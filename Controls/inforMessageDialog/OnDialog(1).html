<!DOCTYPE html>
<html>
<head>

	<title>Infor Message Dialog Box</title>
	<link href="../Release/inforControlsCombined.css" rel="stylesheet">
	<script src="../Release/jquery-3.7.1.min.js"></script>
	<script src="../Release/jquery-ui-1.10.4.custom.min.js"></script>
	<script src="../Release/inforControlsCombined.js"></script>
	<script src="js/inforDataGrid.js"></script>
	<script src="../inforMessageDialog/js/inforMessageDialog.js"></script>

	<script>
		function openDialog() {
			setTimeout(displayDialog, 1000);
		}

		function displayDialog() {
			$("#dialogPlaceholder").html("<div id=\"selectDialog\" style=\"display:none\"><div class=\"dialogFillContents\"><div id=\"selectDataGrid\" style=\"height:184px\"></div></div></div>");

			var columns = [];
			columns.push({ id: "businessUnit", name: "BUSINESS UNIT", field: "businessUnit", width: 90, sortable: true, formatter: UneditableColumnFormatter, filterType: TextFilter });
			columns.push({ id: "description", name: "DESCRIPTION", field: "description", width: 125, sortable: true, formatter: UneditableColumnFormatter, filterType: TextFilter });
			columns.push({ id: "status", name: "STATUS", field: "status", width: 125, sortable: true, formatter: UneditableColumnFormatter, filterType: TextFilter });
			columns.push({ id: "onlineStatusText", name: "BUSINESS UNIT STATUS", field: "onlineStatusText", width: 125, sortable: true, formatter: UneditableColumnFormatter, filterType: TextFilter });

			 var options = {
				columns: columns,
				idProperty: 'businessUnit',
				dataset: [],
				showFilter: true,
				showDrillDown: false,
				forceFitColumns: false,
				showStatusIndicators: false,
				editable: false,
				fillHeight: false
			};

			var grid = $('#selectDataGrid').inforDataGrid(options);

			grid.getData().getItemMetadata = function (index) {
				var item = grid.getDataItem(index);
				// Do a check if the row can be selected
				var isSelectable = ((item.isOffline == false) || (item.hasDataModel == 1));

				return {
					cssClasses: (isSelectable ? "" : "slick-nonselectable-row"),
					selectable: isSelectable
				};
			};

			var dialog = $('#selectDialog');
			dialog.message({
				title: 'Grid on a Dialog',
				dialogType: 'General',
				width: 650,
				height: 304,
				buttons: [{
					text: Globalize.localize('Ok'),
					click: function () {
					 var gridData = grid.getFilteredData();
                     var selectionModel = grid.getSelectionModel();
					 var selectedRows = selectionModel.getSelectedRows();

					var selectedBusinessUnits = [];
					for (var i = 0; i < selectedRows.length; i++) {
						selectedBusinessUnits[i] = gridData[selectedRows[i]].businessUnit;
					}

					alert(selectedBusinessUnits);

						$(this).modal('close');
					},
					isDefault: true
				}]
			}).on('closing', function() { $('#dialog').remove(); });

			//Focus first editable cell
			//grid.focus(0);

			setTimeout(function() {
				var data = [{"businessUnit":"B01","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":true},{"businessUnit":"B02","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B03","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B04","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B06","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B07","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B08","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B09","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B10","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B11","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B12","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B13","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B14","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B16","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B17","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"BU1","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"PK1","description":"PK1 WORLDWIDE","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A01","description":"A01 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A02","description":"A02 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A03","description":"A03 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A04","description":"A04 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A05","description":"A05 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A06","description":"A06 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A07","description":"A07 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A08","description":"A08 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A09","description":"A09 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A10","description":"A10 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A11","description":"A11 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A12","description":"A12 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A13","description":"A13 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A14","description":"A14 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A15","description":"A15 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A16","description":"A16 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A17","description":"A17 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A18","description":"A18 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A19","description":"A19 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A20","description":"A20 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A21","description":"A21 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A22","description":"A22 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A23","description":"A23 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A24","description":"A24 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A25","description":"A25 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A26","description":"A26 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A27","description":"A27 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A28","description":"A28 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A29","description":"A29 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A30","description":"A30 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A31","description":"A31 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A32","description":"A32 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A33","description":"A33 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A34","description":"A34 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A35","description":"A35 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A36","description":"A36 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A37","description":"A37 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A38","description":"A38 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A39","description":"A39 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A40","description":"A40 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A41","description":"A41 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A42","description":"A42 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A43","description":"A43 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A44","description":"A44 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A45","description":"A45 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A46","description":"A46 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A47","description":"A47 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A48","description":"A48 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A49","description":"A49 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A50","description":"A50 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A51","description":"A51 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A52","description":"A52 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A53","description":"A53 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A54","description":"A54 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A55","description":"A55 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A56","description":"A56 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A57","description":"A57 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A58","description":"A58 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A59","description":"A59 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A60","description":"A60 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A61","description":"A61 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A62","description":"A62 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A63","description":"A63 in business unit group BUGROUPA","status":null,"financialsOnlyText":"","financialsOnly":false,"hasDataModel":0,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A64","description":"A64 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A65","description":"A65 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"A66","description":"A66 in business unit group BUGROUPA","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false},{"businessUnit":"B15","description":"Copy of PK1","status":"Has data model","financialsOnlyText":"","financialsOnly":false,"hasDataModel":1,"onlineStatusText":"Online","isOffline":false,"valid":true,"selected":false}];
				grid.updateData(data);

				var selectedRows = [];
				for (var i = 0; i < rows.length; i++) {
					if (rows[i].selected) {
						selectedRows.push(i);
					}
				}

				grid.setSelectedRows(selectedRows);

			}, 1000);
		}

		$(function () {
			$('.inforFormButton').click(function () {
				openDialog();
			});
		});
	</script>
</head>
<body>
	<button class="inforFormButton">Open Dialog</button>
	<div id="dialogPlaceholder" style="display:none">
	</div>
</body>
</html>
