<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta charset="utf-8">
  <title>Infor DataGrid : Validate a Row</title>
  <link rel="stylesheet" href="../Release/inforControlsCombined.css" />
  <script src="../Release/jquery-1.11.1.min.js"></script>
  <script src="../Release/jquery-ui-1.10.4.custom.min.js"></script>
  <script src="../Release/inforControlsCombined.js"></script>

  <script>

    $().ready(function () {
      var columns = [];

      columns.push({ id: "secLevel", name: "Security Level",  field: "secLevel", width: 60, formatter: SelectCellFormatter, editor: SelectCellEditor, filterType: SelectFilter, options: [ { label: 'red', value: '8' }, { label: 'orange', value: '9' }, { label: 'yellow', value: '10' }, { label: 'green', value: '11' }, { label: 'blue', value: '12' }, { label: 'indigo', value: '13' }, { label: 'violet', value: '14' }, { label: 'black', value: '15' }, { label: 'purple', value: '16' }, { label: 'sage', value: '17'}] });
      columns.push({ id: "formName", name: "Form Name", required: true, field: "formName", width: 125, selectable: true, formatter: TextCellFormatter, editor: TextCellEditor, filterType: TextFilter });
      columns.push({ id: "formName", cssClass : "alignCenter", headerCssClass : "formName", name: "Leed", field: "formName", width: 40, formatter:CheckboxCellFormatter, editor:CheckboxCellEditor, filterType: CheckboxFilter });
      columns.push({ id: "weight", name: "Weight", required: true, field: "weight", width: 90, formatter: IntegerCellFormatter, editor: IntegerCellEditor, filterType: IntegerFilter, numberFormat: "n0" });
      columns.push({ id: "weight2", name: "Weight2", field: "weight2", width: 90, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2"});
      columns.push({ id: "weight3", name: "Weight3", field: "weight3", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight4", name: "Weight4", field: "weight4", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight5", name: "Weight5", field: "weight5", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight6", name: "Weight6", field: "weight6", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight7", name: "Weight7", field: "weight7", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight8", name: "Weight8", field: "weight8", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight9", name: "Weight9", field: "weight9", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight10", name: "Weight10", field: "weight10", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight11", name: "Weight11", field: "weight11", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight12", name: "Weight12", field: "weight12", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight13", name: "Weight13", field: "weight13", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });
      columns.push({ id: "weight14", name: "Weight14", required: true, field: "weight14", width: 150, formatter: DecimalCellFormatter, editor: DecimalCellEditor, filterType: DecimalFilter, numberFormat: "n2" });

      var data = [];
      data.push({ id: 1, formName: "", secLevel: '15' });
      data.push({ id: 2, formName: "", secLevel: '16' });
      data.push({ id: 3, formName: "", secLevel: '17' });
      data.push({ id: 4, formName: "", secLevel: '15' });

      var options = {
        columns: columns,
        idProperty: 'id',
        dataset: data,
        showCheckboxes: true,
        savePersonalization: false,
        showFilter: true,
        showFooter: true,
        filterMenuOptions: [{ label: Globalize.localize("RunFilter"), href: "#rf" },
                  { label: Globalize.localize("ClearFilter"), href: "#cf" }
                  ]
      };

      grid = $("#inforDataGrid").inforDataGrid(options);

      $("#add").click(function () {
        grid.addRow();
      });

      $("#save").click(function () {
        //grid.validateCell(2, 3);
        //grid.validateCell(2, 5);

        //grid.validateRow(2);
        var isValid = grid.validateAll();
        if (!isValid) {
          console.log("grid contains errors");
        }
      });

      $("#undo").click(function () {
        grid.clearValidationMessages();
      });
    });
  </script>
</head>
<body>
  <div>
    <span class="inforToolbar">
      <button type="button" id="add" class="inforIconButton new" title="Click to Add a new Row"><span></span></button>
      <span class="inforToolbarSpacer"></span>
      <button type="button" id="save" class="inforIconButton save" title="Click to Show a Validation Message"><span></span></button>
      <button type="button" id="undo" class="inforIconButton discard" title="Click to Hide the Validation Message"><span></span></button>
    </span>
    <div id="inforDataGrid">
    </div>
  </div>

</body>
</html>
