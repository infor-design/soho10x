<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta charset="utf-8">

  <title>Infor DataGrid : Drop Down List with Codes </title>
  <link rel="stylesheet" href="../Release/inforControlsCombined.css" />
  <script src="../Release/jquery-1.10.2.min.js"></script>
  <script src="../Release/jquery-ui-1.10.2.custom.min.js"></script>
  <script src="../Release/inforControlsCombined.js"></script>
  <script src="js/inforDataGrid.js"></script>

  <!--Load a Flat file with JSON data-->
  <script src="js/sampleData.js"></script>


</head>

<body style="overflow-y:auto">
  <div>
    <span class="inforToolbar">
      <button type="button" id="submitButton" class="inforIconButton save" title="Click to Save Modified Rows" ></button>
    </span>
    <div id="inforDataGrid"></div>
  </div>
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />
	<span>Filler</span><br />

  <script>
    $("#submitButton").click(function() {
      console.log(data);
    });

    var columns = [];
    columns.push({ id: "formName", name: "Form Name", field: "formName", width: 125, selectable: true, formatter:TextCellFormatter, editor: TextCellEditor, filterType: TextFilter });
    columns.push({ id: "secLevel", name: "Security Level", field: "secLevel", width: 60, formatter: SelectCellFormatter, editor: SelectCellEditor, editorOptions: {editable: false, typeAheadSearch: true, width: "205px"}, filterType: SelectFilter });

    var data = [];
    data.push({id:1, formName:"FRMABOUT", secLevel: 15 });
    data.push({id:2, formName:"FRMACLBYOBJECT", secLevel: 16 });
    data.push({id:3, formName:"FRMACTION", secLevel: 17 });
    data.push({id:4, formName:"FRMACTIONWIP", secLevel: 15 });

    var options = {
      columns: columns,
      idProperty: 'id',
      dataset: data,
      showCheckboxes: true,
      showFilter: true,
      showFooter: true,
		autoHeight: true
    };
    var grid = $("#inforDataGrid").inforDataGrid(options);
    var dataView = grid.getData();

    grid.onCellChange.subscribe(function (e, args) {
       console.log(args.cellValue);
    });

    grid.onBeforeEditCell.subscribe(function (e, args) {
    	var col = grid.getColumns()[args.cell];
    	col.options = [{ label: ' ', value: '' },
                    { label: 'red', value: 8 },
                    { label: 'orange', value: 9 },
                    { label: 'yellow', value: 10 },
                    { label: 'green', value: 11 },
                    { label: 'blue', value: 12 },
                    { label: 'indigo', value: 13 },
                    { label: 'violet', value: 14 },
                    { label: 'black', value: 15 },
                    { label: 'purple', value: 16 },
                    { label: 'color1', value: 17 },
                    { label: 'color2', value: 18 },
                    { label: 'color3', value: 19 },
                    { label: 'color4', value: 20 },
                    { label: 'color5', value: 21 },
                    { label: 'color6', value: 22 },
                    { label: 'color7', value: 23 },
                    { label: 'color8', value: 24 },
                    { label: 'sage', value: 25 }]
    });

  </script>
</body>
</html>