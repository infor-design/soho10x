<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">

  <title>Infor Auto Complete Control</title>

  <link rel="stylesheet" href="../Release/inforControlsCombined.css" />

  <script src="../Release/jquery-1.10.2.min.js"></script>
  <script src="../Release/jquery-ui-1.10.2.custom.min.js"></script>
  <script src="../Release/inforControlsCombined.js"></script>

  <script>
    $(function () {

      //Sample data
      var states = [],
      allStates = [{value: 1, label:'Alabama'}, {value: 2, label: 'Alaska'}, {value:'AS', label:'American Samoa'},
      {value:'AZ', label:'Arizona'}, {value:'AR', label:'Arkansas'}, {value:'CA', label:'California'},
      {value:'CO', label:'Colorado'}, {value:'CT', label:'Connecticut'}, {value:'DE', label:'Delaware'},
      {value:'DC', label:'District Of Columbia'}, {value:'FM', label:'Federated States Of Micronesia'},
      {value:'FL', label:'Florida'}, {value:'GA', label:'Georgia'}, {value:'GU', label:'Guam'}, {value:'HI', label:'Hawaii'},
      {value:'ID', label:'Idaho'}, {value:'IL', label:'Illinois'}, {value:'IN', label:'Indiana'}, {value:'IA', label:'Iowa'},
      {value:'KS', label:'Kansas'}, {value:'KY', label:'Kentucky'}, {value:'LA', label:'Louisiana'}, {value:'ME', label:'Maine'},
      {value:'MH', label:'Marshall Islands'}, {value:'MD', label:'Maryland'}, {value:'MA', label:'Massachusetts'}, {value:'MI',
      label:'Michigan'}, {value:'MN', label:'Minnesota'}, {value:'MS', label:'Mississippi'}, {value:'MO', label:'Missouri'},
      {value:'MT', label:'Montana'}, {value:'NE', label:'Nebraska'}, {value:'NV', label:'Nevada'}, {value:'NH', label:'New Hampshire'},
      {value:'NJ', label:'New Jersey'}, {value:'NM', label:'New Mexico'}, {value:'NY', label:'New York'}, {value:'NC', label:'North Carolina'},
      {value:'ND', label:'North Dakota'}, {value:'MP', label:'Northern Mariana Islands'}, {value:'OH', label:'Ohio'},
      {value:'OK', label:'Oklahoma'}, {value:'OR', label:'Oregon'}, {value:'PW', label:'Palau'}, {value:'PA', label:'Pennsylvania'},
      {value:'PR', label:'Puerto Rico'}, {value:'RI', label:'Rhode Island'}, {value:'SC', label:'South Carolina'},
      {value:'SD', label:'South Dakota'}, {value:'TN', label:'Tennessee'}, {value:'TX', label:'Texas'}, {value:'UT', label:'Utah'},
      {value:'VT', label:'Vermont'}, {value:'VI', label:'Virgin Islands'}, {value:'VA', label:'Virginia'}, {value:'WA', label:'Washington'},
      {value:'WV', label:'West Virginia'}, {value:'WI', label:'Wisconsin'}, {value:'WY', label:'Wyoming'}];

      var source = function (term, response, elem) {
        console.log('Finding source for ' + elem.id);
        /*
        //You could make an ajax call

          $.getJSON('http://107.170.15.202:4000/api/states?term='+term, function(data) {
          //Structure the data with value, label syntax is done on the server
            response(data);
          });

        */

        //Filter and simulate
        states = [];
        for (var i in allStates) {
          if (allStates[i].label.toLowerCase().indexOf(term) > -1) {
            states.push(allStates[i]);
          }
        }

        setTimeout(function () { response(states); }, 200);
      };

      var logResponse = function (e, args) {
        if (args.value) {
          console.log('Selected value : ' + args.value);
        }
        console.log('Selected to :' + $(this).val(), args);
      };

      //Initialize
      $('#input-autocomplete').autocomplete({source: source}).on('change', function () {
        console.log('Changed to: ' + $(this).val());
      }).on('selected', logResponse);

      $('#required-autocomplete').autocomplete({ source: source, selectionRequired: true }).on('change', function () {
        console.log('Changed to: ' + $(this).val());
      }).on('selected', logResponse);

      $('#label-autocomplete').autocomplete({ source: source, selectionRequired: true, selectLabel: true }).on('change', function () {
        console.log('Changed to: ' + $(this).val());
      }).on('selected', logResponse);

    });
  </script>
</head>
<body class="inforApplicationPadding">
  <div class="field">
    <label class="label" for="input-autocomplete">Default Autocomplete</label>
    <input class="inforTextbox autocomplete" data-init="false" type="text" data-autocomplete="source" placeholder="Type to Search" id="input-autocomplete"><br />
    <label class="label" for="required-autocomplete">Selection Required</label>
    <input class="inforTextbox autocomplete" data-init="false" type="text" data-autocomplete="source" placeholder="Type to Search" id="required-autocomplete"><br />
    <label class="label" for="label-autocomplete">Select Label</label>
    <input class="inforTextbox autocomplete" data-init="false" type="text" data-autocomplete="source" placeholder="Type to Search" id="label-autocomplete">
    <button onclick="console.log('value: ' + $('#label-autocomplete').attr('data-value'));">Log value</button><br />
  </div>
</body>
</html>
